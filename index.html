<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gimbal Control</title>
  
  <!-- Stylesheets -->
  <link href="StyleSheet.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  
  <!-- Favicon -->
  <link rel="shortcut icon" href="images/RafaelLogo.ico">
  <link rel="icon" href="images/RafaelLogo.ico">
  
  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/regression@2.0.1/dist/regression.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>

<body>
  <div class="topnav" id="topnav">
    <img src="images/RafLogo.svg" alt="Rafael logo" onclick="playTune()" class="headImg">
    <span><i class="fa fa-folder-open" title="Open File"></i>
      <input id="file-selector" type="file" />
    </span>
    <a id="recordButton" onclick="recordData()" title="Record Data"><i class="fa fa-circle"></i></a>
    <a onclick="about()" title="About"><i class="fa fa-info-circle"></i></a>
    <img onclick="about()" height="36" src="images/logo-title.svg" alt="Blau Robotics" id="LogoBlau">
  </div>
  <div class="sidenav" id="sidenav">
    <h1>Motor Control</h1>
    <div class="toggle-container" title="Connect to the controller">
      <label class="toggle-label" for="connection-toggle">Connection Status</label>
      <label class="toggle-container">
        <input type="checkbox" id="connection-toggle" class="toggle-input" onchange="connectToggle(this)">
        <span class="toggle-slider"></span>
      </label>
    </div><br>
    <div class="toggle-container" title="Turn motor on and off">
      <label class="toggle-label" for="motor-toggle">Motor On</label>
      <label class="toggle-container">
        <input type="checkbox" id="motor-toggle" class="toggle-input" onchange="motorToggle(this)">
        <span class="toggle-slider"></span>
      </label>
    </div><br>
    <div class="target-control" title="System operating mode">
      <label for="systemModeInput">System Mode</label>
      <input type="text" id="systemModeInput" value="0" />
    </div><br>
    <div class="target-control" title="Motor status indicators">
      <table class="parameter-table">
        <thead>
          <tr>
            <th class="param-header">Parameter</th>
            <th class="axis-header">TR</th>
            <th class="axis-header">EL</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="param-label">Position [deg]</td>
            <td class="param-input-cell"><input type="text" id="PositionInputTR" value="0" class="param-input" /></td>
            <td class="param-input-cell"><input type="text" id="PositionInputEL" value="0" class="param-input" /></td>
          </tr>
          <tr>
            <td class="param-label">Velocity [deg/s]</td>
            <td class="param-input-cell"><input type="text" id="VelocityInputTR" value="0" class="param-input" /></td>
            <td class="param-input-cell"><input type="text" id="VelocityInputEL" value="0" class="param-input" /></td>
          </tr>
          <tr>
            <td class="param-label">Current [Amp]</td>
            <td class="param-input-cell"><input type="text" id="CurrentInputTR" value="0" class="param-input" /></td>
            <td class="param-input-cell"><input type="text" id="CurrentInputEL" value="0" class="param-input" /></td>
          </tr>
        </tbody>
      </table>
    </div>
    <br><hr><br>
    <div>
      <a href="#" class="button active" id="movement-control-button" title="Movement control interface" onclick="MovementControl();">Movement Control</a>
      <a href="#" class="button" title="Installation setup procedures" onclick="InstallationSetup();">Installation Setup</a>
      <a href="#" class="button" title="Acceptance Test Procedure" onclick="ATP();">ATP</a>
      <a href="#" class="button" title="View telemetry data" onclick="ViewTelemetry();">View Telemetry</a>
    </div>
    <br><hr><br>
    <div class="target-control" title="Movement status">
      <label>Status</label>
      <div id="movementStatus" style="font-size: 12px; color: #6c757d; text-align: center;">Ready for commands</div>
    </div>
  </div>
  <div id="drop-zone" ondrop="handleDrop(event)" ondragover="handleDragOver(event)"
    ondragleave="handleDragLeave(event)">
    <div id="explenation_text">
      Drag & Drop CSV File Here
      <br>
      <picture id="picture_main">
        <img src="images/Device.jpg" alt="Device Image" id="deviceImage" style="max-width: 100%; height: auto; width: 1000px;">
      </picture>
      <br>
      <div id="explenation_label">
        <h2>Gimbal Control</h2>
        <ul>
          <li>Move Antenna in various scenarios</li>
          <li>Installation Setup procedures</li>
          <li>Acceptance Test Procedure</li>
          <li>View Telemetry</li>
        </ul>
        <p>Good luck and happy testing!</p>
      </div>
    </div>
    <table id="resultsTable"></table>
    <div class="plot-area" id="plot-area">
    </div>
  </div>
  <audio id="localAudio" preload="auto">
    <source src="assets/minimal-ping.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>
  <script src="js/constants.js"></script>
  <script src="js/mathUtils.js"></script>
  <script src="js/uiUtils.js"></script>
  <script src="js/gimbalSerial.js"></script>
  <script src="js/fileHandling.js"></script>
  <script src="js/plotting.js"></script>
  <script src="js/movementControl.js"></script>
  <script src="js/app.js"></script>
</body>

</html>